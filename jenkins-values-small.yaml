controller:
  image:
    registry: "docker.io"
    repository: "jenkins/jenkins"
    tag: "lts"

  serviceType: LoadBalancer

  resources:
    requests:
      cpu: "500m"
      memory: "1Gi"
    limits:
      cpu: "1000m"
      memory: "2Gi"

  javaOpts: "-Xms512m -Xmx1024m"

  installPlugins:
    - kubernetes
    - workflow-aggregator
    - git
    - configuration-as-code
    - credentials-binding

  admin:
    username: "admin"
    password: "admin123"

  serviceAccount:
    create: true
    name: jenkins

agent:
  enabled: true
  resources:
    requests:
      cpu: "100m"
      memory: "256Mi"
    limits:
      cpu: "500m"
      memory: "512Mi"

  # Pod-Templates mit reduzierten Memory-Anforderungen f√ºr t3.small
  podTemplates:
    kaniko: |
      - name: kaniko
        label: kaniko
        containers:
          - name: kaniko
            image: gcr.io/kaniko-project/executor:v1.19.0-debug
            command:
              - /busybox/cat
            tty: true
            volumeMounts:
              - name: docker-config
                mountPath: /kaniko/.docker
            resources:
              requests:
                cpu: "200m"
                memory: "512Mi"
              limits:
                cpu: "1000m"
                memory: "1Gi"
          - name: git
            image: alpine/git:latest
            command:
              - cat
            tty: true
            resources:
              requests:
                cpu: "50m"
                memory: "64Mi"
              limits:
                cpu: "200m"
                memory: "128Mi"
        volumes:
          - name: docker-config
            secret:
              secretName: docker-config

persistence:
  enabled: true
  storageClass: "gp2-csi"
  accessMode: "ReadWriteOnce"
  size: "10Gi"

rbac:
  create: true
  readSecrets: true
